<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <button>监听注册事件</button>
  <div>123</div>
  <!--   <div>2</div>
  <div>3</div> -->
  <script>
    //  addEventListener 事件监听方式
    //evenTarget.addEventListener(type,listener[,useCapture]),里面的事件类型是字符串，必定加引号，而且不带on
    //同一个元素，同一个事件可以添加多个侦听器（事件处理程序）
    /*    var btn = document.querySelector("button");
       btn.addEventListener("click", function () {
         alert(22);
       });
       btn.addEventListener("click", function () {
         alert(33);
       });
   
       //删除事件
       var divs = document.querySelectorAll("div");
       divs[0].onclick = function () {
         alert(11);
         //1.传统方式删除事件
         divs[0].onclick = null;
       };
       //2.删除事件：removeEventListener
       divs[1].addEventListener("click", fn); //fn不需要调用加括号
       function fn() {
         alert(22);
         divs[1].removeEventListener("click", fn);
       } */

    /* DOM事件流分为3个阶段：捕获阶段，当前目标阶段，冒泡阶段*/

    //事件对象
    var div = document.querySelector('div');
    div.onclick = function (event) {
      console.log(event);
      console.log(window.event);
      e = e || window;//兼容性的处理
    }

    //1.event就是一个事件对象，写到我们侦听函数的，小括号里面，当形参来看
    //2.事件对象只有有了事件才会存在，他是系统给我们自动创建的，不需要我们传递参数
    //3.事件对象是我们事件的一系列相关数据的集合，跟事件相关的
    //4.事件对象我们可以自己命名,event,evt,e
    //5.事件对象也有兼容性问题

    //常用事件对象的属性和方法
    //e.target 返回的是触发事件的对象   this返回的是绑定的对象
    //返回事件类型   e.type
    //组织默认行为：让链接不跳转，提交按钮不提交
    var a = document.querySelector('a');
    a.addEventListener('click', function (e) {
      e.preventDefault();   //DOM标准写法
    })

    //传统的注册方式
    a.onclick = function (e) {
      //普通浏览器  e.preventDefault();方法
      return false;
    }

    //阻止事件冒泡，两种方式：stopPropagation(标准写法) canceBubble(非标准写法)

    //事件委托（代理，委派），原理：利用冒泡，父节点设置事件监听，子节点会被影响到

    //禁止鼠标右键菜单：contextmenu
    //禁止鼠标选中：selectstart
    //鼠标事件对象MouseEvent
    //1.e.clientX,e.clientY可视窗口的坐标
    //2.e.pageX,e.pageY.文档页面的坐标
    //3.e.screenX,e.screenY,屏幕的坐标

    //常见的键盘事件：keyup:按键弹起的时候触发
    //keydown:按下的时候触发，不区分大小写
    //keypress：某个按键被按下是触发，但是不识别功能键ctrl,shift,区分大小写
    //执行顺序：keydown,keypress,keyup,
    //键盘事件中的keyCode属性可以知道按下的是哪个键：对应ASCII码

  </script>
</body>

</html>